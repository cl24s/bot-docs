<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chris - Trading Bot Dokumentáció</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <div class="logo-icon">TB</div>
            <span>Trading Bot Dokumentáció</span>
        </div>
        <div class="header-right">
            <div class="search-box">
                <i class="fas fa-search" style="color: #888;"></i>
                <input type="text" placeholder="Keresés">
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav>
        <ul>
            <li><a href="../index.html">Kezdőlap</a></li>
            <li><a href="bothasznalat.html">Bot</a></li>
            <li><a href="alapfogalmak.html">Alapok</a></li>
            <li><a href="chris.html" class="active">Chris</a></li>
        </ul>
    </nav>

    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <h3>Chris</h3>
            <ul>
                <li><a href="chris.html" class="active"><i class="fas fa-chart-line"></i> Trend Mikró-időzítés</a></li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <h1>Mikro-időzítés Modul</h1>
            
            <p>Precíz belépő–kilépő "mikro-időzítés" modul 1–5 perces microtrend alapján, amely 10–15 perces scalp belépőt időzít és ellenőrzi a 15m bias irányával való egyezést.</p>

            <section id="logika">
                <h2>Logika - Röviden</h2>
                
                <h3>Idősíkok</h3>
                <ul class="feature-list">
                    <li><strong>Micro:</strong> 1m / 5m</li>
                    <li><strong>Bias:</strong> 15m</li>
                </ul>

                <h3>Indikátorok (micro)</h3>
                <ul>
                    <li>EMA9, EMA21</li>
                    <li>StochRSI(14,14,3,3)</li>
                    <li>OBV vagy CVD (delta)</li>
                    <li>Opcionálisan: 5–10 mp-enkénti order book snapshot</li>
                </ul>

                <h3>Alapelv</h3>
                <p>Csak akkor nyitunk, ha:</p>
                <ol>
                    <li>A 15m bias long/short irányt mutat</li>
                    <li>A microtrend (EMA9↕EMA21 + StochRSI forduló) ugyanabba az irányba fordul</li>
                    <li>Volumenerő (OBV/CVD) megerősíti</li>
                    <li>Order book nem állja el az utat (nincs masszív fal közvetlenül előttünk)</li>
                </ol>
            </section>

            <section id="szabalyok">
                <h2>Részletes Szabályok</h2>

                <h3>1) Microtrend (EMA9 / EMA21)</h3>
                <div class="code-block">
                    <pre><span class="code-keyword">Stack:</span>
EMA9 > EMA21 = <span class="code-string">micro long</span>
EMA9 < EMA21 = <span class="code-string">micro short</span>

<span class="code-keyword">Keresztezés (crossover) trigger:</span>
- Gyertya-záráskor történik (nem intrabar)
- Legalább 2 gyertyán keresztül fennmarad (debounce)</pre>
                </div>

                <h3>2) StochRSI(14,14,3,3)</h3>
                <p><strong>Short trigger:</strong> Előtte overbought (K,D ≥ 80), majd K lefelé keresztezi D-t és &lt;80 alá csúszik → bearish forduló.</p>
                <p><strong>Long trigger:</strong> Előtte oversold (K,D ≤ 20), majd K felfelé keresztezi D-t és &gt;20 fölé jön → bullish forduló.</p>
                <p><strong>Debounce:</strong> A trigger után 1 zárógyertya megerősítés (ne false tick legyen).</p>

                <h3>3) Volumenerő (OBV vagy CVD)</h3>
                <ul class="feature-list">
                    <li>CVD/OBV trendirány az utolsó N=20 micro gyertyában egyező irányú</li>
                    <li>Momentumfeltétel: aktuális micro gyertya volumen ≥ 20-bar átlag × 1.1</li>
                    <li>Vagy CVD_delta |értéke| ≥ Z-score 1.0 az utolsó 50 barhoz képest</li>
                </ul>

                <h3>4) Order Book Snapshot</h3>
                <p>Mintavétel: 5–10 mp-enként</p>
                
                <div class="code-block">
                    <pre><span class="code-keyword">Imbalance:</span>
(sum_topN_bids - sum_topN_asks) / (sum_topN_bids + sum_topN_asks)

<span class="code-keyword">Követelmények:</span>
- LONG: imbalance ≥ <span class="code-value">+0.15</span>
- SHORT: imbalance ≤ <span class="code-value">-0.15</span>
- topN = <span class="code-value">10</span> szint</pre>
                </div>

                <p><strong>Közeli fal:</strong> Az entryhez képest ±0.20–0.40% sávban NE legyen „fal" ≥ 0.8×(topN átlag). Ha van, várj vagy skip.</p>

                <h3>5) Belépési Forma</h3>
                <ul>
                    <li><strong>Alap:</strong> Limit pullbackre vagy stop-market kitörésre</li>
                    <li><strong>Belépő pillanata:</strong> Amikor mind a 4 réteg egyszerre igaz (bias egyezés + micro EMA stack/kereszt + StochRSI forduló + volume/CVD ok + DOM nem tilt)</li>
                </ul>

                <h3>6) Exit Szabályok</h3>
                
                <h4>Stop Loss (SL)</h4>
                <p>A micro swing túloldalán (legutóbbi lokális HL/LH), vagy ATR(m5) × 1.0–1.3</p>

                <h4>Take Profit (TP1/TP2)</h4>
                <ul>
                    <li><strong>TP1:</strong> Közelben lévő likviditási zóna/fal előtt 0.05–0.10%-kal</li>
                    <li><strong>TP2:</strong> VWAP / 15m EMA21/50 / Fibonacci következő szint</li>
                </ul>

                <h4>Trailing</h4>
                <p>Ha TP1 teljesült → SL → breakeven, majd ATR-trail (m5, ×1.2) vagy gyertyás HL/LH trail</p>

                <h4>Hard Exit</h4>
                <p>15m ellenjelzés: bias megtörik (EMA21↑/↓ átmenet + VWAP áttörés és zárás az ellenoldalon)</p>
            </section>

            <section id="pelda-short">
                <h2>Példa - SHORT Belépő</h2>
                
                <div class="code-block">
                    <pre>{
  <span class="code-property">"timestamp_utc"</span>: <span class="code-string">"2025-09-23T21:36:00Z"</span>,
  <span class="code-property">"symbol"</span>: <span class="code-string">"ETHUSDT"</span>,
  <span class="code-property">"timeframes"</span>: { 
    <span class="code-property">"bias_tf"</span>: <span class="code-string">"15m"</span>, 
    <span class="code-property">"micro_tf"</span>: <span class="code-string">"5m"</span> 
  },

  <span class="code-property">"bias_15m"</span>: { 
    <span class="code-property">"dir"</span>: <span class="code-string">"SHORT"</span>, 
    <span class="code-property">"confidence"</span>: <span class="code-value">0.68</span>, 
    <span class="code-property">"vwap_relation"</span>: <span class="code-string">"below"</span> 
  },

  <span class="code-property">"micro_signals"</span>: {
    <span class="code-property">"ema"</span>: {
      <span class="code-property">"ema9"</span>: <span class="code-value">2431.4</span>,
      <span class="code-property">"ema21"</span>: <span class="code-value">2432.1</span>,
      <span class="code-property">"stack"</span>: <span class="code-string">"SHORT"</span>,
      <span class="code-property">"cross_event"</span>: { 
        <span class="code-property">"type"</span>: <span class="code-string">"BEAR_CROSS"</span>, 
        <span class="code-property">"bars_since"</span>: <span class="code-value">2</span>, 
        <span class="code-property">"confirmed_close"</span>: <span class="code-value">true</span> 
      }
    },
    <span class="code-property">"stochrsi"</span>: {
      <span class="code-property">"k"</span>: <span class="code-value">74.2</span>,
      <span class="code-property">"d"</span>: <span class="code-value">79.1</span>,
      <span class="code-property">"state_prev"</span>: <span class="code-string">"OVERBOUGHT"</span>,
      <span class="code-property">"turn"</span>: <span class="code-string">"DOWN"</span>,
      <span class="code-property">"confirm_close_bars"</span>: <span class="code-value">1</span>
    },
    <span class="code-property">"volume_strength"</span>: {
      <span class="code-property">"cvd_delta"</span>: <span class="code-value">-185000</span>,
      <span class="code-property">"cvd_zscore_50"</span>: <span class="code-value">-1.3</span>,
      <span class="code-property">"bar_volume"</span>: <span class="code-value">1.18</span>
    }
  },

  <span class="code-property">"entry_plan"</span>: {
    <span class="code-property">"direction"</span>: <span class="code-string">"SHORT"</span>,
    <span class="code-property">"type"</span>: <span class="code-string">"LIMIT"</span>,
    <span class="code-property">"price"</span>: <span class="code-value">2431.0</span>
  },

  <span class="code-property">"decision"</span>: { 
    <span class="code-property">"action"</span>: <span class="code-string">"OPEN_SHORT"</span>, 
    <span class="code-property">"confidence"</span>: <span class="code-value">0.74</span> 
  }
}</pre>
                </div>
            </section>

            <section id="checklist">
                <h2>Ellenőrző Lista (Botnak)</h2>
                
                <ul class="feature-list">
                    <li>Bias 15m egyezik a jelölt iránnyal?</li>
                    <li>EMA9/EMA21 micro stack +/- vagy friss cross megvan és zárással megerősítve?</li>
                    <li>StochRSI ellenzónából visszafordult és gyertyazárás igazolta?</li>
                    <li>CVD/OBV irány egyezik és momentum ≥ 1.1×20-bar?</li>
                    <li>Order book: nincs közeli fal az entry előtt? (±0.2–0.4%)</li>
                    <li>SL/TP: SL = micro swing ± ATR; TP1 fal előtt; TP1→BE; trail aktív</li>
                </ul>

                <div class="version-badge">Ha bármelyik NEM → WAIT</div>
                <p>Nem kergetünk gyertyát!</p>
            </section>
        </main>

        <!-- Table of Contents -->
        <aside class="toc">
            <h4>Tartalomjegyzék</h4>
            <ul>
                <li><a href="#logika">Logika</a></li>
                <li><a href="#szabalyok">Részletes Szabályok</a>
                    <ul>
                        <li><a href="#szabalyok">Microtrend</a></li>
                        <li><a href="#szabalyok">StochRSI</a></li>
                        <li><a href="#szabalyok">Volumenerő</a></li>
                        <li><a href="#szabalyok">Order Book</a></li>
                        <li><a href="#szabalyok">Belépés</a></li>
                        <li><a href="#szabalyok">Exit</a></li>
                    </ul>
                </li>
                <li><a href="#pelda-short">Példa SHORT</a></li>
                <li><a href="#checklist">Ellenőrző Lista</a></li>
            </ul>
        </aside>
    </div>

    <!-- Fuse.js for search -->
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
    <!-- Search index -->
    <script src="../search-index.js"></script>
    <!-- Search functionality -->
    <script src="../search.js"></script>
    <!-- Main script -->
    <script src="../script.js"></script>
</body>
</html>
